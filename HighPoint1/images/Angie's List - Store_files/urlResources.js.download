'use strict';

/* eslint brace-style:0 */ // these single line url returns are easier to read in this context
/* This is a very simple collection of url resources for the project.  The API is very simple: invoke a resource,
** pass in an options hash if there are query parameters you want on the URL and receive a URL.  The idea of this
** is to have a consolidated site-wide object to DRY up our code.
*/
define(function (require) {
  var $ = require('jquery');
  var _ = require('underscore');
  var moment = require('momentTimezone');

  return {
    googleMap: {
      serviceProviderPin: function serviceProviderPin() {
        return 'http://www.angieslist.com/files/sp-locator_1x.png';
      },
      userPin: function userPin() {
        return 'http://www.angieslist.com/files/mem-locator_1x.png';
      }
    },
    social: {
      twitter: function twitter() {
        return 'https://twitter.com/angieslist';
      },
      facebook: function facebook() {
        return 'https://www.facebook.com/angieslist';
      },
      googleplus: function googleplus() {
        return 'https://plus.google.com/+angieslist';
      },
      youtube: function youtube() {
        return 'https://www.youtube.com/user/AngiesListHQ';
      }
    },
    search: {
      default: function _default(_ref) {
        var query = _ref.query,
            params = _ref.params,
            category = _ref.id,
            categorySelection = _ref.categorySelection,
            subCategorySelection = _ref.subCategorySelection,
            jobSelection = _ref.jobSelection,
            isMisspelling = _ref.isMisspelling,
            categoryName = _ref.categoryName;

        // Removes "undefined" properties from object.
        var queryParams = _.omit({
          query: query,
          params: params,
          category: category,
          categorySelection: categorySelection,
          subCategorySelection: subCategorySelection,
          jobSelection: jobSelection,
          isMisspelling: isMisspelling,
          categoryName: categoryName
        }, function (v) {
          return !v;
        });
        var queryString = !_.isEmpty(queryParams) ? '?' + $.param(queryParams) : '';
        return '/app/search' + queryString;
      },
      category: function category(_ref2) {
        var query = _ref2.query,
            params = _ref2.params,
            _category = _ref2.id,
            categorySelection = _ref2.categorySelection,
            subCategorySelection = _ref2.subCategorySelection,
            jobSelection = _ref2.jobSelection,
            isMisspelling = _ref2.isMisspelling,
            categoryName = _ref2.categoryName;

        // Removes "undefined" properties from object.
        var queryParams = _.omit({
          query: query,
          params: params,
          category: _category,
          categorySelection: categorySelection,
          subCategorySelection: subCategorySelection,
          jobSelection: jobSelection,
          isMisspelling: isMisspelling,
          categoryName: categoryName
        }, function (v) {
          return !v;
        });
        var queryString = !_.isEmpty(queryParams) ? '?' + $.param(queryParams) + '&autocompleteType=category&categorySearchType=legacy' : '';
        return '/app/search' + queryString;
      },
      job: function job(_ref3) {
        var query = _ref3.query,
            params = _ref3.params,
            category = _ref3.id,
            categorySelection = _ref3.categorySelection,
            subCategorySelection = _ref3.subCategorySelection,
            jobSelection = _ref3.jobSelection;

        // Removes "undefined" properties from object.
        var queryParams = _.omit({
          query: query,
          params: params,
          category: category,
          categorySelection: categorySelection,
          subCategorySelection: subCategorySelection,
          jobSelection: jobSelection
        }, function (v) {
          return !v;
        });
        var queryString = !_.isEmpty(queryParams) ? '?' + $.param(queryParams) + '&autocompleteType=job&categorySearchType=job' : '';
        return '/app/search' + queryString;
      },
      modal: function modal(_ref4) {
        var query = _ref4.query,
            params = _ref4.params,
            category = _ref4.id,
            categoryName = _ref4.categoryName,
            categorySearchType = _ref4.categorySearchType;

        // Removes "undefined" properties from object.
        var queryParams = _.omit({
          query: query,
          params: params,
          category: category,
          categoryName: categoryName,
          categorySearchType: categorySearchType
        }, function (v) {
          return !v;
        });
        var queryString = !_.isEmpty(queryParams) ? '?' + $.param(queryParams) + '&autocompleteType=modal' : '';
        return '/app/search' + queryString;
      },
      serviceProvider: function serviceProvider(options) {
        var opts = options || {};
        var url = void 0;
        if (opts.id) {
          url = '/member/store/{id}/about'.replace('{id}', opts.id);
          if (opts.params) {
            url += '?' + $.param(opts.params);
          }
        }
        return url;
      },
      offer: function offer(options) {
        var opts = options || {};
        if (opts.id) {
          return '/member/offers/{id}'.replace('{id}', opts.id);
        }
        return undefined;
      },
      offerSearch: function offerSearch(options) {
        var opts = options || {};
        if (opts.categoryId) {
          return '/deals/search#category={categoryId}&page=1'.replace('{categoryId}', opts.categoryId);
        }
        return undefined;
      }
    },
    serviceProvider: {
      store: function store(id) {
        return '/member/store/' + id;
      },
      reviews: function reviews(options) {
        var categoryId = options.categoryId;
        var categoryIdOpt = categoryId ? '?categoryId=' + categoryId : '';
        return '/member/store/' + options.id + '/reviews' + categoryIdOpt;
      },
      certifiedBadge: function certifiedBadge() {
        return '/assets/images/certified-badge-md.png';
      },
      superServiceAwardBadge: function superServiceAwardBadge() {
        return '/assets/images/ssa-badge-md.png';
      }
    },
    offer: {
      defaultImage: function defaultImage() {
        return '/assets/images/default-deal-img.jpg';
      },
      ecommerceTermsAndConditions: function ecommerceTermsAndConditions() {
        return 'http://content.angieslist.com/angieslist/TermsAndConditions.pdf';
      }
    },
    payment: {
      paypalLogo: function paypalLogo() {
        return '/assets/images/payment/paypal-100px.png';
      }
    },
    about: {
      faq: function faq() {
        return 'https://support.angieslist.com/app/answers/list';
      },
      contact: function contact() {
        return 'https://my.angieslist.com/AngiesList/visitor/ContactUs.aspx';
      },
      angieBlog: function angieBlog() {
        return 'https://www.angiehicks.com/';
      },
      pressCenter: function pressCenter() {
        return 'https://www.angieslist.com/in-the-press.htm';
      },
      careers: function careers() {
        return 'https://careers.angieslist.com/';
      },
      investorRelations: function investorRelations() {
        return 'http://investor.angieslist.com/';
      },
      authenticatedUserAgreement: function authenticatedUserAgreement() {
        return '/aluseragreement';
      },
      unAuthenticatedUserAgreement: function unAuthenticatedUserAgreement() {
        return 'https://www.angieslist.com/angies-list-membership-agreement.htm';
      },
      privacyPolicy: function privacyPolicy() {
        return 'https://www.angieslist.com/privacypolicy.htm';
      },
      support: function support() {
        return 'https://support.angieslist.com/app/ask/';
      },
      join: function join() {
        return 'https://join.angieslist.com/welcome';
      }
    },
    member: {
      chat: function chat(buttonId) {
        return '/member/chat?buttonId=' + buttonId;
      },
      faqApi: function faqApi() {
        return '/member/mem/v1/support_center/faq';
      },
      login: function login() {
        return '/member/login';
      },
      logout: function logout() {
        return '/member/logout';
      },
      passwordReset: function passwordReset(options) {
        var opts = options || {};
        if (opts.id) {
          return '/member/password_reset/{id}'.replace('{id}', opts.id);
        }
        return '/member/password_reset';
      },
      home: function home() {
        return '/member';
      },
      myReviews: function myReviews() {
        return '/reviews/myreviews';
      },
      fairPriceGuaranteeImgUrl: function fairPriceGuaranteeImgUrl() {
        return '/assets/images/service_quality_badge_1x.png';
      },
      company: function company(companyId) {
        return '/member/company/' + companyId;
      },
      product: function product(productId) {
        return '/member/products/' + productId;
      },
      profileCoupons: {
        printView: function printView(options) {
          var opts = options || {};
          if (opts.id) {
            return '/member/coupons/{id}/print'.replace('{id}', opts.id);
          }
          return undefined;
        }
      },
      messageCenter: function messageCenter() {
        var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
            useNewMessageCenter = _ref5.useNewMessageCenter,
            spId = _ref5.spId,
            userId = _ref5.userId;

        if (useNewMessageCenter) {
          return '/member/messages' + (userId ? '/' + userId : '') + (userId && spId ? '/conversation/' + spId : '');
        } else {
          return '/member/messages' + (spId ? '/' + spId : '');
        }
      },
      pricingGuide: function pricingGuide() {
        return '/member/pricingguide';
      },
      reviewIndex: function reviewIndex(options) {
        if ((options || {}).useNewReviewFunnel) {
          return '/member/reviews';
        } else {
          return '/reviews';
        }
      },
      writeAReview: function writeAReview(options) {
        var opts = options || {};
        var url = opts.useNewReviewFunnel ? '/member/reviews/edit' : '/reviews/selectCategories';
        if (opts.id) {
          url += '?serviceProviderId={id}'.replace('{id}', opts.id);
        }
        return url;
      },
      editDraftReview: function editDraftReview(options) {
        var opts = options || {};
        if (opts.id) {
          return (opts.useNewReviewFunnel ? '/member' : '') + '/reviews/edit?draftReviewId={id}'.replace('{id}', opts.id);
        }
        return undefined;
      },
      manageAccount: function manageAccount() {
        return '/member/account';
      },
      contactPreferences: function contactPreferences() {
        return '/member/account/preferences';
      },
      subscription: function subscription() {
        return '/member/subscription';
      },
      subscriptionPayPalSuccess: function subscriptionPayPalSuccess() {
        return '/member/subscription?paypalSuccess=true';
      },
      subscriptionPayPalCancel: function subscriptionPayPalCancel() {
        return '/member/subscription?paypalSuccess=false';
      },
      shopOffers: function shopOffers() {
        var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
            query = _ref6.query,
            categoryId = _ref6.categoryId,
            categorySelection = _ref6.categorySelection,
            subCategorySelection = _ref6.subCategorySelection,
            jobSelection = _ref6.jobSelection;

        var queryParams = _.omit({
          query: query,
          category: categoryId,
          categorySelection: categorySelection,
          subCategorySelection: subCategorySelection,
          jobSelection: jobSelection
        }, function (v) {
          return !v;
        });
        var queryString = !_.isEmpty(queryParams) ? '?' + $.param(queryParams) : '';
        var urlHash = categoryId ? '#category=' + categoryId + '&page=1' : '';
        return '/deals/search' + (queryString || urlHash);
      },
      addReview: function addReview() {
        return '/reviews';
      },
      checkoutCart: function checkoutCart() {
        return '/store/checkout';
      },
      resources: {
        answers: function answers() {
          return 'http://answers.angieslist.com/';
        },
        magazine: function magazine() {
          return 'https://www.angieslist.com/articles/';
        },
        videos: function videos() {
          return 'https://www.angieslist.com/videos/';
        },
        appleStore: function appleStore() {
          return 'https://itunes.apple.com/us/app/angies-list-mobile/id389294696?';
        },
        playStore: function playStore() {
          return 'https://play.google.com/store/apps/details?id=com.angieslist.android.activity';
        },
        help: function help() {
          return 'https://support.angieslist.com/app/answers/list';
        },
        denverSupport: function denverSupport() {
          return 'https://my.angieslist.com/AngiesList/visitor/ContactUs.aspx';
        },
        support: function support() {
          return '/member/support';
        }
      },
      assets: {
        spPlaceholder: function spPlaceholder() {
          return '/assets/images/SP_placeholder.jpg';
        },
        alLogoSmall: function alLogoSmall() {
          return '/assets/images/logo-sm.jpg';
        }
      },
      notFound: function notFound() {
        return '/404';
      },
      tierInformation: function tierInformation() {
        return 'member/newbenefits';
      },
      purchaseHistory: function purchaseHistory() {
        return '/app/account/purchases';
      },
      purchaseHistoryPrint: function purchaseHistoryPrint(options) {
        var opts = options || { couponCode: '', legacyCouponId: null };
        var url = '/member/account/purchases/print?couponcode=' + opts.couponCode;
        if (opts.legacyCouponId) {
          url += '&legacycouponid=' + opts.legacyCouponId;
        }
        return url;
      },
      spProfile: function spProfile(id, ref) {
        var url = '/member/store/{id}'.replace('{id}', id);
        if (ref) {
          return url + '?ref={ref}'.replace('{ref}', ref);
        } else {
          return url;
        }
      },
      handyChat: function handyChat() {
        return '/member/handychat';
      },
      bluebook: {
        faq: function faq() {
          return 'https://www.angieslist.com/faq/bluebook-pricing-guide-frequently-asked-questions/';
        },
        disclaimer: function disclaimer() {
          return 'https://www.angieslist.com/faq/bluebook-pricing-guide-disclaimer/';
        }
      }
    },
    businessCenter: {
      login: function login() {
        return '/login';
      },
      logout: function logout() {
        return '/logout';
      },
      passwordReset: function passwordReset() {
        return '/password_reset';
      },
      home: function home() {
        return '/';
      },
      jobs: function jobs(spid) {
        return '/app/jobs/' + spid;
      },
      spPicker: function spPicker() {
        return '/';
      },
      profileCoupons: {
        printView: function printView(options) {
          var opts = options || {};
          if (opts.id) {
            return '/coupons/{id}/print'.replace('{id}', opts.id);
          }
          return undefined;
        }
      },
      messageCenter: _.extend(function (spId) {
        return '/app/messages/' + spId;
      }, {
        messages: function messages(spId) {
          return '/bcapi/v1/service_providers/' + spId + '/activities';
        },
        unreadCount: function unreadCount(spId) {
          return '/bcapi/v1/service_providers/' + spId + '/activities/unread';
        },
        conversation: function conversation(spId, conversationId) {
          return '/app/messages/' + spId + '/conversation/' + conversationId;
        }
      }),
      manageCategories: function manageCategories(serviceProviderId) {
        return '/CategoryManagement?serviceProviderId=' + serviceProviderId;
      },
      contactPreferences: function contactPreferences() {
        return '/app/account/preferences';
      },
      manageAccount: function manageAccount() {
        return '/app/account';
      },
      associates: function associates(spId) {
        return '/associates/' + spId;
      },
      addAnotherBusiness: function addAnotherBusiness() {
        return '/app/join/addbusiness';
      },
      paymentMethod: function paymentMethod(spId) {
        return '/statements/' + spId + '/preferences';
      },
      advertisingPaymentMethod: function advertisingPaymentMethod(spId) {
        return '/app/statements/' + spId + '/preferences/advertising';
      },
      businessCenter: function businessCenter() {
        return 'https://office.angieslist.com/home';
      },
      register: function register() {
        return 'https://business.angieslist.com/Registration/SimpleRegistration.aspx';
      },
      spProfile: {
        about: function about(spId) {
          return '/store/' + spId + '/about';
        },
        reviews: function reviews(spId) {
          return '/store/' + spId + '/reviews';
        },
        shop: function shop(spId) {
          return '/store/' + spId + '/shop';
        }
      },
      resources: {
        vWorkApp: function vWorkApp() {
          return 'https://go.vworkapp.com/angieslist';
        },
        iosApp: function iosApp() {
          return 'https://itunes.apple.com/us/app/angies-list-business/id834679691?mt=8';
        },
        androidApp: function androidApp() {
          return 'https://play.google.com/store/apps/details?id=com.angieslist.servicetown.sp';
        },
        mall: function mall() {
          return 'https://my.angieslist.com/thebigdeal/mall.aspx';
        },
        expertContent: function expertContent() {
          return 'https://www.angieslist.com/experts/';
        },
        angiesList: function angiesList() {
          return 'https://www.angieslist.com';
        },
        faq: function faq() {
          return 'https://support.business.angieslist.com/app/answers/list';
        },
        contact: function contact() {
          return 'https://www.angieslistbusinesscenter.com/contact-us';
        },
        pressCenter: function pressCenter() {
          return 'https://www.angieslistbusinesscenter.com/news';
        },
        logo: function logo() {
          return 'https://www.angieslist.com/files/AL-BC-LOGO-V.png';
        }
      },
      transactions: {
        detail: function detail(options) {
          var since = moment().tz('America/New_York').subtract(1, 'y').startOf('day').valueOf();
          var query = '?since=' + since;
          if (options && options.query) {
            query += '&query=' + options.query;
          }
          return '/bcapi/v1/service_providers/' + options.serviceProviderId + '/transactions' + query;
        }
      },
      statements: _.extend(function (serviceProviderId) {
        return '/statements/' + serviceProviderId;
      }, {
        detail: function detail(serviceProviderId, statementId) {
          return '/bcapi/v1/service_providers/' + serviceProviderId + '/statements/' + statementId;
        },
        detailPage: function detailPage(serviceProviderId, statementId) {
          return '/statements/' + serviceProviderId + '/statement/' + statementId;
        },
        payNowPage: function payNowPage(serviceProviderId, statementId) {
          return '/statements/' + serviceProviderId + '/payment/' + statementId;
        }
      }),
      leadFeed: {
        termsAndConditions: function termsAndConditions() {
          return 'https://content.angieslist.com/angieslist/LeadsTermsAndConditions.pdf';
        }
      },
      assets: {
        spPlaceholderSelected: function spPlaceholderSelected() {
          return '/assets/images/SP_placeholder_selected.png';
        },
        spPlaceholder: function spPlaceholder() {
          return '/assets/images/SP_placeholder.jpg';
        },
        checkDetails: function checkDetails() {
          return '/assets/images/check-details.png';
        },
        creditCardCcv: function creditCardCcv() {
          return '/assets/images/credit-card-ccv.png';
        },
        creditCards: function creditCards() {
          return '/assets/images/credit-cards.png';
        },
        transparentImg: function transparentImg() {
          return '/assets/images/transparent.png';
        }
      },
      notFound: function notFound() {
        return '/404';
      },
      officeSignupLink: function officeSignupLink() {
        return '/app/join';
      }
    },
    snapfix: {
      signup: function signup() {
        return '/signup';
      },
      contactInfo: function contactInfo() {
        return '/users/current/contact_information';
      },
      serviceRequestContactInfo: function serviceRequestContactInfo(options) {
        return '/service_requests/' + options.serviceRequestId + '/contact_information';
      },
      serviceRequestMedia: function serviceRequestMedia(options) {
        return '/service_requests/' + options.serviceRequestId + '/media';
      },
      assets: {
        sidebarImage: function sidebarImage() {
          return '/assets/images/sidebar_how_it_works.png';
        }
      }
    },
    leadfeed: {
      contactInfo: function contactInfo() {
        return '/users/current/contact_information';
      },
      resources: {
        angiesList: function angiesList() {
          return 'https://www.angieslist.com';
        },
        feedBack: function feedBack() {
          return 'https://angieslist.formstack.com/forms/untitled_form_265';
        }
      }
    },
    global: {
      resources: {
        angiesListLogoWhite: function angiesListLogoWhite() {
          return 'https://www.angieslist.com/sites/all/themes/altheme/images/angies-list-logo-white.png';
        },
        privacyPolicy: function privacyPolicy() {
          return 'https://www.angieslist.com/privacypolicy.htm';
        },
        membershipAgreement: function membershipAgreement() {
          return 'https://www.angieslist.com/angies-list-membership-agreement.htm';
        },
        memberSupport: function memberSupport() {
          return 'https://support.angieslist.com/app/ask/';
        },
        memberJoin: function memberJoin() {
          return 'https://join.angieslist.com/welcome';
        },
        legacyRecoverPasswordMember: function legacyRecoverPasswordMember() {
          return 'https://my.angieslist.com/Angieslist/RecoverPassword.aspx';
        },
        termsAndConditions: function termsAndConditions() {
          return 'https://www.angieslist.com/terms-of-use.htm';
        },
        // The Google Static Maps API does not support custom icon URLs that use HTTPS; the default icon will be display.
        // Keep URLs pointed at http for Google Drop Pins
        googleDropPinHouse_1x: function googleDropPinHouse_1x() {
          return 'http://www.angieslist.com/files/mem-locator_1x.png';
        },
        googleDropPinHouse_2x: function googleDropPinHouse_2x() {
          return 'http://www.angieslist.com/files/mem-locator_2x.png';
        },
        googleDropPinPeople_1x: function googleDropPinPeople_1x() {
          return 'http://www.angieslist.com/files/sp-locator_1x.png';
        },
        googleDropPinPeople_2x: function googleDropPinPeople_2x() {
          return 'http://www.angieslist.com/files/sp-locator_2x.png';
        },
        googleDropPinAreaCircle_1x: function googleDropPinAreaCircle_1x() {
          return 'http://www.angieslist.com/files/area_circle%401x.png';
        },
        googleDropPinAreaCircle_2x: function googleDropPinAreaCircle_2x() {
          return 'http://www.angieslist.com/files/area_circle%402x.png';
        },
        guarantee: function guarantee() {
          return 'http://www.angieslist.com/guarantee-details';
        },
        messageBubbleGraphic: function messageBubbleGraphic() {
          return '/assets/images/messageBubbleGraphic.png';
        },
        serviceProviderGraphic: function serviceProviderGraphic() {
          return '/assets/images/serviceProviderGraphic.png';
        },
        homeFolderGraphic: function homeFolderGraphic() {
          return '/assets/images/homeFolderGraphic.png';
        }
      }
    }
  };
});