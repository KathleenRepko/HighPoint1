'use strict';

define(function (require) {
  var AL = require('al');
  var Sku = require('models/Sku');

  var Model = AL.Model.extend({
    parse: function parse(data, options) {
      var _links = data._links;
      var _embedded = data._embedded;

      if (_links && _links.self && _links.self.href) {
        this.url = _links.self.href;
      }

      if (_embedded && _embedded.sku) {
        this.sku = new Sku.Model(_embedded.sku, options);
      } else {
        this.sku = new Sku.Model();
      }

      return data;
    }
  });

  return {
    Model: Model
  };
});